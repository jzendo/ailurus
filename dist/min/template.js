!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("simpleTemplate",[],e):"object"==typeof exports?exports.simpleTemplate=e():t.simpleTemplate=e()}(this,function(){return function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return t[r].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){(function(t){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}Object.defineProperty(e,"__esModule",{value:!0});var o=n(1),u=n(2),c=i(u),s=n(3),a=r(s),_=!0,f=void 0;f=_===!1?{log:function(){}}:"undefined"!=typeof window&&window.document?window.console:t.console;var l={Q_:[],start:function(){return l.Q_=["var q = [];"],l},step:function(){return l.Q_.push.apply(l.Q_,arguments),l},end:function(){return l.Q_.push('return q.join("");'),l},toString:function(){return l.Q_.join("")}},E=function(t){return t=c.reduceSpecialChars(t),t?'q.push("'+t+'");':""},p=function t(e){var n=!1;e.replace(o.RE_PHRASE_BLOCK,function(e,r,i,u){n=!0;var s=e.length,_=void 0,f=void 0;if(l.step(E(u.substring(0,i))),o.RE_PHRASE_COMPLEX_END_BLOCK.test(e))_=o.PHRASE_PARSER_ENDCOMPLEXBLOCK,f=r.substring(1);else if(o.RE_PHRASE_SINGLE_BLOCK.test(e))_=o.PHRASE_PARSER_SINGLEBLOCK,f=r;else{if(r=e.match(o.RE_PHRASE_COMPLEX_BEGIN_BLOCK),!r)throw new Error('The "'+e+'" block is invalid.');_=r[1],f=r[2]}if(!c.hasOwn(a.default,_))throw new Error('The "'+_+'" is undefined.');l.step(a.default[_](f)),t(u.substring(i+s))}),n||l.step(E(e))},d=function(t){return Function("context",t)},S=function(){var t="var "+o.EMBEDDEDSAFEHTML_FN_NAME+"="+c.safeHtml.toString()+";\n",e=l.toString();return t+e},A=function(t,e){return t?(t=c.stringify(t),t=t.substring(1,t.length-1),t=c.trimHeadAndTail(t),l.start(),p(t),l.end(),e?d(S())(e):d(S())):""};e.default=A}).call(e,function(){return this}())},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.RE_PHRASE_BLOCK=/{{([^}]*)}}/,e.RE_PHRASE_SINGLE_BLOCK=/{{([a-zA-Z_][a-zA-Z0-9_]*)}}/,e.RE_PHRASE_COMPLEX_BEGIN_BLOCK=/{{#([a-zA-Z][a-zA-Z0-9]*)\s+([^}]*)}}/,e.RE_PHRASE_COMPLEX_END_BLOCK=/{{\/([a-zA-Z_][a-zA-Z0-9_]*)}}/,e.RE_SPECIALCHARS_HEADTAIL=/^(([\t\s]|(\\r\\n)|(\\n))+)|(([\t\s]|(\\r\\n)|(\\n))+)$/g,e.RE_SPECIALCHARS_STRIP=/([\t])+|(\s){2,}|(\\r\\n)+|(\\n)+/g,e.PHRASE_PARSER_ENDCOMPLEXBLOCK="__$",e.PHRASE_PARSER_SINGLEBLOCK="___",e.EMBEDDEDSAFEHTML_FN_NAME="_h"},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.safeHtml=e.hasOwn=e.parse=e.stringify=e.reduceSpecialChars=e.trimHeadAndTail=void 0;var r=n(1);e.trimHeadAndTail=function(t){return t.replace(r.RE_SPECIALCHARS_HEADTAIL,"")},e.reduceSpecialChars=function(t){return t.replace(r.RE_SPECIALCHARS_STRIP,function(t,e,n){return n||e||""})},e.stringify=function(t){return JSON.stringify(t)},e.parse=function(t){return JSON.parse(t)},e.hasOwn=function(t,e){return!!t&&!!Object.prototype.hasOwnProperty.call(t,e)},e.safeHtml=function(t){var e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;","=":"&#x3D;"};return t=null===t||void 0===t?"":String(t),t.replace(/[&<>"'`=]/g,function(t){return e[t]})}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),i=function(t){return Function("context","with(context){ return ("+t+");}")},o=function(t){var e=i(t);return"(function(context){var tmpQ = q; q = [];var items= ("+e.toString()+'(context));var tmpContext = context;var i = 0, len1 = items.length;if(len1) q = ["<ul>"];for (; i < len1; i+=1){if (i == 0) q.push("<li>"); else q.push("</li><li>");context = items[i];'},u=function(t){var e=i(t);return"if (("+e.toString()+"(context))) {"},c=function(t){return"q.push("+r.EMBEDDEDSAFEHTML_FN_NAME+'(context["'+t+'"]));'},s=function(t){return"each"===t?'};context = tmpContext;tmpQ.push(q.length ? q.join("") + "</li></ul>" : "");q = tmpQ;tmpContext = tmpQ = null;}(context));':"}"},a={};a[r.PHRASE_PARSER_SINGLEBLOCK]=c,a[r.PHRASE_PARSER_ENDCOMPLEXBLOCK]=s,a.each=o,a.if=u,e.default=a}])});